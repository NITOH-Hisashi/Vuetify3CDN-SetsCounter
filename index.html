<!DOCTYPE html>
<html>

<head>
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://unpkg.com/vuetify@3.6.6/dist/vuetify.min.css" rel="stylesheet">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui" />
    <title>SetsCounterApplication</title>
</head>

<body>
    <div id="app">
        <v-app>
            <v-app-bar app>
                <!-- ヘッドバー  -->
                <v-app-bar-nav-icon @click="drawer = !drawer"></v-app-bar-nav-icon>
                <v-toolbar-title>SetsCounterApplication</v-toolbar-title>
                <div class='foo' style='margin-left: auto;'>

                </div>
            </v-app-bar>

            <v-navigation-drawer v-model="drawer" app>
                <!-- サイドメニューバー  -->
                <v-expansion-panels>
                    <v-expansion-panel>
                        <a href="https://ntl.amus.biz" target="_blank">ntl.amus.biz</a>
                    </v-expansion-panel>
                    <v-expansion-panel>
                        <a href="https://www.amus.biz" target="_blank">www.amus.biz</a>
                    </v-expansion-panel>
                </v-expansion-panels>
            </v-navigation-drawer>

            <v-main>
                <!-- メインコンテンツ  -->
                <v-row>
                    <v-col>
                    </v-col>
                    <v-col>
                        <v-text-field v-model="sets" :disabled="loading" label="Sets" clearable></v-text-field>
                    </v-col>
                    <v-col>
                    </v-col>
                    <v-col>
                        <v-text-field v-model="seconds" :disabled="loading" label="Seconds" clearable></v-text-field>
                    </v-col>
                    <v-col>
                    </v-col>
                </v-row>
                <v-row>
                    <v-col>
                    </v-col>
                    <v-col>
                        <v-btn :disabled="loading" :loading="loading" @click="start">
                            Start
                        </v-btn>
                    </v-col>
                    <v-col>
                    </v-col>
                </v-row>
                {{time}}
            </v-main>
            <v-dialog v-if="isDialog"></v-dialog>
        </v-app>
    </div>

    <script src="https://unpkg.com/vue@3.4.27/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vuetify@3.6.6/dist/vuetify.min.js"></script>
    <script lang="ts">
        const vuetify = Vuetify.createVuetify()
        const app = Vue.createApp({
            data() {
                return {
                    visual: false,
                    info: {
                        name: "",
                        nickname: "",
                        gender: "",
                    },
                    drawer: false,
                    loading: false,
                    isDialog: false,
                    sets: 1,
                    secondsDefault: 30,
                    seconds: 0,
                    time: null,
                    timer: null,
                };
            },
            methods: {
                start() {
                    this.loading = true
                    this.time = new Date()
                    this.timer = setInterval(this.setSeconds, 1000)
                },
                setSeconds() {
                    this.seconds--
                    if (Number(this.seconds) <= 0) {
                        clearInterval(this.timer)
                        this.seconds = this.secondsDefault
                        this.sets++
                        this.loading = false
                    }
                },
            },
            mounted() {
                this.seconds = this.secondsDefault
            }
        });
        app.use(vuetify).mount('#app');
    </script>
</body>

</html>
<style>
</style>
